(this.webpackJsonpcovid19estimatorui=this.webpackJsonpcovid19estimatorui||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),o=a.n(r),i=(a(24),a(3)),l=a(14),c=a(15),m=a(2),u=a(18),p=a(17),d=a(16),h=a.n(d),v=(a(42),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={request_data:{region:{name:"Africa",avgAge:19.7,avgDailyIncomeInUSD:5,avgDailyIncomePopulation:.71},periodType:"days",timeToElapse:58,reportedCases:674,population:66622705,totalHospitalBeds:1380614},response:null},n.fetchImpactEstimate=n.fetchImpactEstimate.bind(Object(m.a)(n)),n.transformXML=n.transformXML.bind(Object(m.a)(n)),n.displayFormatDecider=n.displayFormatDecider.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"transformXML",value:function(e){if(!window.DOMParser||!window.XSLTProcessor)return e;var t=(new DOMParser).parseFromString(' \n        <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n        \x3c!-- Here is the magic: set indent to format the output --\x3e\n        <xsl:output omit-xml-declaration="yes" indent="yes"/>\n    \n        \x3c!-- Match any element or attribute --\x3e\n        <xsl:template match="node()|@*">\n          <xsl:copy>\n            <xsl:apply-templates select="node()|@*"/>\n          </xsl:copy>\n        </xsl:template>\n      </xsl:stylesheet>',"text/xml"),a=new XSLTProcessor;a.importStylesheet(t);var n=(new DOMParser).parseFromString(e.trim(),"text/xml"),s=a.transformToDocument(n);return s?(new XMLSerializer).serializeToString(s):e}},{key:"displayFormatDecider",value:function(e){return"application/xml"===e.mimetype?this.transformXML(e.data):JSON.stringify(e.data,void 0,4)}},{key:"fetchImpactEstimate",value:function(e){var t=this;e.preventDefault();var a="https://covid19-estimator.herokuapp.com/api/v1/on-covid-19";this.state.response_data_format&&(a="".concat(a,"/").concat(this.state.response_data_format)),h.a.post(a,this.state.request_data).then((function(e){t.setState({response:{data:e.data,mimetype:e.headers["content-type"].split(";")[0]}})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"py-5"},s.a.createElement("div",{className:"body"},s.a.createElement("h1",null,"covid19estimator UI"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"request-from"},s.a.createElement("form",{onSubmit:this.fetchImpactEstimate},s.a.createElement("input",{type:"number",className:"form-control",name:"data-population",value:this.state.request_data.population,onChange:function(t){return e.setState({request_data:Object(i.a)({},e.state.request_data,{population:t.target.value})})}}),s.a.createElement("input",{type:"number",className:"form-control",name:"data-time-to-elapse",value:this.state.request_data.timeToElapse,onChange:function(t){return e.setState({request_data:Object(i.a)({},e.state.request_data,{timeToElapse:t.target.value})})}}),s.a.createElement("input",{type:"number",className:"form-control",name:"data-reported-cases",value:this.state.request_data.reportedCases,onChange:function(t){return e.setState({request_data:Object(i.a)({},e.state.request_data,{reportedCases:t.target.value})})}}),s.a.createElement("input",{type:"number",className:"form-control",name:"data-total-hospital-beds",value:this.state.request_data.totalHospitalBeds,onChange:function(t){return e.setState({request_data:Object(i.a)({},e.state.request_data,{totalHospitalBeds:t.target.value})})}}),s.a.createElement("select",{className:"custom-select",name:"data-period-type",defaultValue:"days",onChange:function(t){return e.setState({request_data:Object(i.a)({},e.state.request_data,{periodType:t.target.value})})}},s.a.createElement("option",{value:"days"},"days"),s.a.createElement("option",{value:"weeks"},"weeks"),s.a.createElement("option",{value:"months"},"months")),s.a.createElement("select",{className:"custom-select",name:"data-format",defaultValue:"json",onChange:function(t){return e.setState({response_data_format:t.target.value})}},s.a.createElement("option",{value:"json"},"json"),s.a.createElement("option",{value:"xml"},"xml")),s.a.createElement("button",{type:"submit",className:"btn btn-primary",name:"data-go-estimate"},"Estimate"))),s.a.createElement("div",{className:"request-preview"},s.a.createElement("pre",null,JSON.stringify(this.state.request_data,void 0,4)))),s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"response"),s.a.createElement("div",{className:"response-view gatsby-highlight"},s.a.createElement("pre",{id:"response"},this.state.response&&this.displayFormatDecider(this.state.response))))))}}]),a}(s.a.Component));var f=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.4601c03c.chunk.js.map